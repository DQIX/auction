<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>DQVCアイテムリスト生成</title>
  <meta property="og:type" content="website">
  <meta property="og:title" content="dq9 DQVCアイテムリスト生成">
  <meta property="og:description" content="DQVCで使える、dlcファイルを生成します。送信にはカスタムWFCサーバーが必要です。">
  <meta property="og:url" content="https://dqix.github.io/auction/">
  <meta property="og:site_name" content="DQVCアイテムリスト生成">
  <meta property="og:locale" content="ja_JP">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="dq9 DQVCアイテムリスト生成">
  <meta name="twitter:description" content="DQVCで使える、dlcファイルを生成します。送信にはカスタムWFCサーバーが必要です。">
  <meta name="twitter:url" content="https://dqix.github.io/auction/">
  <meta name="twitter:site" content="@Daisuke76897125">
  <meta name="twitter:creator" content="@Daisuke76897125">

  <meta name="description" content="DQ9・DQIX対応のDQVCショップリストジェネレーター。任意のアイテムリストを生成可能で、すべてのアイテムを選択可能。バルクセットやテンプレート機能付きで、生成リストはZIPファイルでダウンロードできます。配布コードは含まれていません。">

  <link rel="stylesheet" href="main.css">
</head>
<body>
  <!--script src="all.min.js" defer></script-->
  <script src="_src/data.js" defer></script>
  <script src="_src/main.js" defer></script>
  <header>
    <div class="wrap header-row">
      <h1 style="min-width: 160px">DQVCアイテムリスト生成</h1>
      <div class="grow"></div>
      <div class="toolbar">
        <label class="muted" for="lang">言語</label>
        <select id="lang" class="select">
          <option value="ja">日本語</option>
          <option value="en">English</option>
          <option value="es">Español</option>
          <option value="fr">Français</option>
          <option value="de">Deutsch</option>
          <option value="it">Italiano</option>
          <option value="alt">Alt</option>
        </select>
        <label class="muted" for="theme">テーマ</label>
        <select id="theme" class="select">
          <option value="dark">ダーク</option>
          <option value="light">ライト</option>
          <option value="blue">ブルー</option>
          <option value="gold">ゴールド</option>
          <option value="pink">ピンク</option>
          <option value="orange">オレンジ（色弱向け）</option>
          <option value="deepDark">ディープダーク</option>
          <option value="darkColorblind">ダーク色弱（オレンジ）</option>
          <option value="darkTritanopia">ダーク トリタノピア（赤）</option>
        </select>
        <div class="search">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="7"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
          <input id="q" type="search" placeholder="検索 / Search" autocomplete="off" />
        </div>
        <label class="muted" style="display:flex; align-items:center; gap:6px;">
          <input id="filterSel" type="checkbox" />
          <span id="filterSelLabel">選択済みも検索で絞り込む</span>
        </label>
        <input id="loader" type="file" accept=".bin" style="display:none" />
        <button id="loadBtn" class="btn" title=".bin を読み込む">読み込み</button>
        <button id="downloadBtn" class="btn primary" disabled>ダウンロード</button>
      </div>
    </div>
  </header>

  <main>
    <section class="panel" id="itemsPanel">
      <h2>アイテム</h2>
      <div class="body" id="itemsBody">
        <div class="muted">読み込み中…</div>
      </div>
    </section>

    <section class="panel" id="selectedPanel">
      <h2>選択済み</h2>

      <!-- Preset fixed-list bulk set (from dqvcListings) -->
      <div id="presetBox" class="bulk">
        <div class="title" id="presetTitle">固定リストを適用</div>
        <div class="fields" style="gap:8px; flex-wrap:wrap; align-items:center;">
          <label class="muted" id="presetSelectLabel" for="presetSelect">リスト</label>
          <select id="presetSelect" class="select">
            <option value="">リストを選択</option>
          </select>
        </div>
      </div>

      <div class="body">
        <div class="selected-grid" id="selected"></div>
        <div id="selEmpty" class="muted" style="padding:8px 4px">まだアイテムが選択されていません。</div>

        <div id="bulkBox" class="bulk">
          <div class="title" id="bulkTitle">一括個数指定</div>
          <div class="fields">
            <label class="muted" id="bulkPriceLabel" for="bulkPrice">価格</label>
            <input id="bulkPrice" type="text" inputmode="numeric" pattern="\\d*" class="num" />
            <span class="suffix">G</span>

            <label class="muted" id="bulkMinLabel" for="bulkMin">最小</label>
            <input id="bulkMin" type="text" inputmode="numeric" pattern="\\d*" class="num" />
            <span class="suffix">個</span>

            <label class="muted" id="bulkMaxLabel" for="bulkMax">最大</label>
            <input id="bulkMax" type="text" inputmode="numeric" pattern="\\d*" class="num" />
            <span class="suffix">個</span>

            <button id="bulkApply" class="btn">一括適用</button>
          </div>
        </div>

        <div id="bulkDeleteBox" class="bulk">
          <div class="fields" style="gap:8px; flex-wrap:wrap;">
            <button id="delMatched" class="btn">検索でマッチしたものを削除</button>
            <button id="delUnmatched" class="btn">検索でマッチしなかったものを削除</button>
            <button id="delAll" class="btn">すべて削除</button>
          </div>
        </div>


        <!-- Collapsible info box: About this tool -->
        <div id="infoBox" class="bulk info-box">
          <div class="title" id="infoTitle">このツールについて</div>
          <div class="info-content" id="infoContent"></div>
        </div>
      </div>
    </section>
  </main>

  <div class="dropzone" id="drop">
    <div class="inner">
      <div style="font-weight:700; font-size:18px; margin-bottom:6px">ここに .bin ファイルをドロップ</div>
      <div class="muted">Drop a .bin file here to load</div>
    </div>
  </div>
</body>
</html>
